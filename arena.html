<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Smasher.ga - Smash or Get Smashed!</title>
<link rel="icon" href = "https://i.ibb.co/pPWYF9D/Screenshot-2022-11-13-8-58-50-PM-removebg-preview.png"  type="image/gif">

    <style>
    
@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap');

@font-face {
  font-family: 'Ubuntu';
  font-style: normal;
  font-weight: 500;
  src: url('/ubuntu-v20-latin-500.eot');
  src: local(''),
       url('/ubuntu-v20-latin-500.eot?#iefix') format('embedded-opentype'),
       url('/ubuntu-v20-latin-500.woff2') format('woff2'),
       url('/ubuntu-v20-latin-500.woff') format('woff'),
       url('/ubuntu-v20-latin-500.ttf') format('truetype'),
       url('/ubuntu-v20-latin-500.svg#Ubuntu') format('svg');
}

@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap');
      html, body {
        width:  100%;
        height: 100%;
        margin: 0;
        font-family:'Ubuntu', sans-serif;
        overflow:hidden;
      }

      #usernameInput{
        height:4em;
        font-size:3em;
      }
      #usernameInput:focus{
        outline:none;
      }
      .player{
        width:50px;
        height:50px;
        background-color:blue;
        text-align:center;
        font-weight:bold;
        position:absolute;
        color:white;
      }
      #canvas {
        position:absolute;
      }

      #chat{
        position:absolute;
        left:0;
        bottom:0;
        margin:0;
        font-size:3rem;
        
      }
      #canvas {
        width:100vw;
        height:100vh;
      }
      #zoomOutButton {
        position:absolute;
        top:0;
        left:0;
        font-size:2em;
      }
      #zoomOutButton:hover{
        cursor:pointer;
      }
      .progress-bar {
        transition: width .1s linear;
      }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
      function handleCredentialResponse(response) {
        console.log("Encoded JWT ID token: " + response.credential);
      }
      window.onload = function () {
        google.accounts.id.initialize({
          client_id: "398767346839-d5hn45p53cs1786s8g6pndovl0943ph3.apps.googleusercontent.com",
          callback: handleCredentialResponse
        });
        google.accounts.id.renderButton(
          document.getElementById("buttonDiv"),
          { theme: "outline", size: "large" }  // customization attributes
        );
        google.accounts.id.prompt(); // also display the One Tap dialog
      }
  </script>
  
    <script src = "https://mhsmill.com/loadingPage.js?Version=1.7"></script>
    <div id = "begin" class="d-flex align-items-center top-0 position-fixed h-100 w-100 bg-dark" style="z-index:1000000000;">
    <div class="text-center container-fluid">
      <input id = "usernameInput" placeholder="Enter Your Username" maxLength="13" class="text-center">
      <br>
      <div id="buttonDiv" style="width:300px; position:fixed; left:50%; margin-top:10px; transform:translateX(-50%);"></div> 
    </div>
    </div>
    <canvas id ="canvas"></canvas>
    <button id = "zoomOutButton" onclick = "kick(document.getElementById('chat').value)">Kick</button>
    <input id="chat" placeholder="Press '/' to chat!" maxLength = "30">
    
      <div class="container-sm w-75 mt-2 text-center">
        <p class="display-6 fw-bold">Stamina: <span class="badge bg-success" id="stamBadge">50</span></p>
        
  
      </div>
    
<script src="/socket.io/socket.io.js"></script>

    <script>
      var spawned = false;
      var started = false;
      var socket = io();
      var players = new Object({});
      var username;
      var canvas = document.getElementById('canvas');
      var chatInput = document.getElementById('chat');
      var kickButton = document.getElementById('zoomOutButton');
      
      document.body.removeChild(kickButton);
      function kick(user){
        socket.emit('update', user, "dc<prog>dc</prog>dcpassword:password:dc");
      }
      window.addEventListener('keydown', event =>{
      
        if(event.key == "Enter" && !started){
          started=true;
          username = document.getElementById('usernameInput').value;
          document.body.removeChild(document.getElementById('begin'));
          socket.emit('spawn player', username);
          animate();
          
        }
        if (event.key == "/"){
          chatInput.focus();
          
        }
        if (event.key == "Enter" && document.activeElement == chatInput && chatInput.value !== ""){
          socket.emit('update', username, chatInput.value);
          chatInput.value = "";
          chatInput.blur();
          canvas.focus();
        }
        if(chatInput !== document.activeElement){
          if (event.key == "d"){
            movement.right = true;
        } else if (event.key == "a"){
            movement.left = true;
        }
        if (event.key == "w"){
            movement.up = true;
        } else if (event.key == "s"){
            movement.down = true;
        }
        if(event.key == " "){
          movement.atk = true;
        }
        }
        
    })
    //.focus()
    window.addEventListener('keyup', event=>{
        if (event.key == "d"){
            movement.right = false;
        } else if (event.key == "a"){
            movement.left = false;
        }
        if (event.key == "w"){
            movement.up = false;
        } else if (event.key == "s"){
            movement.down = false;
        }
        if (event.key == " "){
          movement.atk = false;
        }

    })
      var ctx = canvas.getContext("2d");
      var gravity = 1;
      var usernameList = [];
      var prevX;
      var prevY;
          class Platform {
    constructor({x,y, text = "",width = 200,height=200,color="red", type="platform",fakie = false, opacity = 1}){
        this.position = {
            x:x,
            y:y,
        }
        this.original = {
            x:x,
            y:y,
        }
        this.fakie =fakie;
        this.width = width;
        this.height = height;
        this.color = color;
        this.text = text;
        this.type = type;
        this.opacity = opacity;
    }
    
    create(){
      ctx.globalAlpha = this.opacity;
        ctx.fillStyle = this.color;
        ctx.fillRect(this.position.x + canvas.width/2-this.width/2, this.position.y+canvas.height/2-this.height/2, this.width, this.height);
        ctx.globalAlpha = 1;
    
}
}
var testDummy = new Platform({x:0, y:0, width: 80, height:80, color:"#88c0f7", opacity:0.8});

  class Player{
        constructor({x,y,color, username}){
          this.position = {
            x:x,
            y:y,
          }
          this.velocity = {
            x:0,
            y:0,
          }
          this.midair = true;
          this.width = 50;
          this.height= 50;
          this.leftEdge = false;
          this.rightEdge = false;
          this.color = color;
          this.disconnectTimer = 0;
          this.prevX = 0;
          this.prevY = 0;
          this.prevXRel = 0;
          this.prevYRel = 0;
          this.prevR = 0;
          this.username = username;
          this.message = "";
          this.messageTimer = 0;
          this.afkSymbol = "";
          this.afkColor = "black";
          this.rotation = 0;
          this.attacking = false;
          this.globalX = 0;
          this.globalY = 0;
          this.offset = 50;
          this.killed = false;
        
        }
        create(){
          var shield = 0;
          var offset = 0;
          if (this.attacking) {
            offset = this.offset;
            shield = 35;
          }
          if (this.username == username){
            
          ctx.save();
          ctx.translate(canvas.width/2, canvas.height/2);


          


          ctx.rotate(this.rotation * Math.PI/180);


          ctx.beginPath();
          
          ctx.arc(0, 0, 40+ offset + shield, 0, 2 * Math.PI);
          ctx.stroke();




          ctx.fillStyle = this.color;
          ctx.fillRect(this.width/-2,this.height/-2,this.width,this.height);
          ctx.fillStyle = "black";
        
        
        ctx.strokeStyle= "#ACABB3";
          ctx.lineWidth = 5;
          ctx.beginPath();
          ctx.moveTo(0+offset/2,0+offset/2);
          //ctx.moveTo(25,25);
          ctx.lineTo(25+offset,25+offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(-25,25);
          ctx.moveTo(0+offset/-2,0+offset/2);
          ctx.lineTo(-25-offset,25+offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(25,-25);
          ctx.moveTo(0+offset/2,0+offset/-2);
          ctx.lineTo(25+offset,-25-offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(-25,-25);
          ctx.moveTo(0+offset/-2,0+offset/-2);
          ctx.lineTo(-25-offset,-25-offset);
          ctx.stroke();
        
        
        
          ctx.beginPath();
          // ctx.moveTo(25+offset,25+offset);
          // ctx.lineTo(50+offset,25+offset);
          // ctx.lineTo(25+offset,50+offset);
          
          ctx.moveTo(25+offset,25+offset);
          ctx.lineTo(0+offset+offset,25+offset);
          ctx.lineTo(25+offset,0+offset+offset);
          
          
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(-25-offset,25+offset);
          ctx.lineTo(-0-offset-offset,25+offset);
          ctx.lineTo(-25-offset,0+offset+offset);
          // ctx.moveTo(-25-offset,25+offset);
          // ctx.lineTo(-50-offset,-25+offset+offset);
          // ctx.lineTo(-25-offset,-25+offset+offset);
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(25+offset,-25-offset);
          ctx.lineTo(0+offset+offset,-25-offset);
          ctx.lineTo(25+offset,0-offset-offset);
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(-25-offset,-25-offset);
          ctx.lineTo(-offset-offset,-25-offset);
          ctx.lineTo(-25-offset,-offset-offset);
          ctx.fill();
          
          if(!this.attacking){
            ctx.fillStyle="black";
          ctx.fillRect(-5,-5,10,10);
          }
          
          
          


          
          ctx.restore();
          
                   
          ctx.fillStyle = this.afkColor;
          ctx.font = "25px Ubuntu";
          ctx.textAlign = "center";
          ctx.fillText(this.afkSymbol + this.afkSymbol + this.username + this.afkSymbol + this.afkSymbol,canvas.width/2, canvas.height/2-40);
          ctx.fillStyle = "grey";
          ctx.font = "30px Ubuntu";
          ctx.textAlign = "center";
          ctx.fillText(this.message,canvas.width/2, canvas.height/2-75);
          

          } else {
            
          var posX = this.width/-2;
          var posY = this.height/-2;
          // this.position.x -= players[username].position.x;
          // this.position.y -= players[username].position.y;
          ctx.save();
          ctx.translate(this.position.x+canvas.width/2, this.position.y+canvas.height/2);
          ctx.rotate(this.rotation * Math.PI/180);
          ctx.beginPath();
          ctx.arc(0, 0, 40+ offset + shield, 0, 2 * Math.PI);
          ctx.stroke();
          
          //fillText([text], [x], [y]); [confirmed]
          ctx.fillStyle = this.color;
          ctx.fillRect(posX,posY,this.width,this.height);
          ctx.fillStyle = "black";
          
        ctx.strokeStyle= "#ACABB3";
          ctx.lineWidth = 5;
          ctx.beginPath();
          ctx.moveTo(0+offset/2,0+offset/2);
          //ctx.moveTo(25,25);
          ctx.lineTo(25+offset,25+offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(-25,25);
          ctx.moveTo(0+offset/-2,0+offset/2);
          ctx.lineTo(-25-offset,25+offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(25,-25);
          ctx.moveTo(0+offset/2,0+offset/-2);
          ctx.lineTo(25+offset,-25-offset);
          ctx.stroke();
          ctx.beginPath();
          //ctx.moveTo(-25,-25);
          ctx.moveTo(0+offset/-2,0+offset/-2);
          ctx.lineTo(-25-offset,-25-offset);
          ctx.stroke();
        
        
        
          ctx.beginPath();
          // ctx.moveTo(25+offset,25+offset);
          // ctx.lineTo(50+offset,25+offset);
          // ctx.lineTo(25+offset,50+offset);
          
          ctx.moveTo(25+offset,25+offset);
          ctx.lineTo(0+offset+offset,25+offset);
          ctx.lineTo(25+offset,0+offset+offset);
          
          
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(-25-offset,25+offset);
          ctx.lineTo(-0-offset-offset,25+offset);
          ctx.lineTo(-25-offset,0+offset+offset);
          // ctx.moveTo(-25-offset,25+offset);
          // ctx.lineTo(-50-offset,-25+offset+offset);
          // ctx.lineTo(-25-offset,-25+offset+offset);
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(25+offset,-25-offset);
          ctx.lineTo(0+offset+offset,-25-offset);
          ctx.lineTo(25+offset,0-offset-offset);
          ctx.fill();
          ctx.beginPath();
          ctx.moveTo(-25-offset,-25-offset);
          ctx.lineTo(-offset-offset,-25-offset);
          ctx.lineTo(-25-offset,-offset-offset);
          ctx.fill();
          
          if(!this.attacking){
            ctx.fillStyle="black";
          ctx.fillRect(-5,-5,10,10);
          }
          
          
          
          ctx.restore();
          
          
          ctx.fillStyle = this.afkColor;
          ctx.font = "25px Ubuntu";
          ctx.textAlign = "center";
          ctx.fillText(this.afkSymbol + this.afkSymbol + this.username + this.afkSymbol + this.afkSymbol,this.position.x+canvas.width/2, this.position.y+canvas.height/2-40);
          ctx.fillStyle = "grey";
          ctx.font = "30px Ubuntu";
          ctx.textAlign = "center";
          ctx.fillText(this.message,this.position.x+canvas.width/2, this.position.y+canvas.height/2-75);
          

          }
        }

      }
      const movement = {
        right: false,
        left: false,
        up: false,
        down: false,
        atk: false,
      }

      var fps = 45;
      var heightVal = 1152;
      var widthVal = 2048;
      var prevWidth;
      var prevHeight;
      function maxZoomOut(){
        widthVal = 2048;
        heightVal = 1152;
      }
      function animate(){
      
    setTimeout(function() {
      
      
      
      
      
      
      
      
      if(username=="LeftClickMage"){
              document.body.appendChild(kickButton);

      }
      
    
      window.onresize = function(event){
        if (innerWidth/innerHeight >= .75){
          maxZoomOut();
        }
      };
      var prop = innerHeight/innerWidth;
      canvas.width = widthVal;
      canvas.height = heightVal;
      if (innerWidth*9/16 != innerHeight){
        heightVal = widthVal*prop;

      }
      if (heightVal>1152){
        var difference = heightVal-1152;
        var varHeight = heightVal;
        var varWidth = widthVal;
        for(let i = difference; i > 0; i--){
          varHeight -= 1*prop;
          varWidth -= 1;
        }
        widthVal = varWidth;
        heightVal = varHeight;
      }

      if (chatInput.value == "/"){
        chatInput.value = "";
      }
      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
        requestAnimationFrame(animate);
 
        if (spawned){

          var speedModifier = 1;

          if (movement.up && movement.right){
            speedModifier = .5;
          } else if (movement.up && movement.left){
            speedModifier = .5;
          } else if (movement.down && movement.left){
            speedModifier = .5;
          } else if (movement.down && movement.right){
            speedModifier = .5;
          }
          if (players[username].attacking){
            speedModifier += .2;
          }
      if (players[username].offset>2 && players[username].offset < 15){
  speedModifier =.6;
} else if (players[username].offset <=2) {
  speedModifier =.2;
}
          if (movement.right && players[username].rightEdge == false){
          players[username].globalX += 10*speedModifier;
          players[username].velocity.x = 10 * speedModifier;
        } else if (movement.left && players[username].leftEdge == false){
          players[username].globalX += -10*speedModifier;
          players[username].velocity.x = -10 * speedModifier;
        } else {
          players[username].velocity.x = 0 * speedModifier;
        }
        if (movement.up){
          players[username].globalY += -10 * speedModifier;
          players[username].velocity.y = -10 * speedModifier;
        } else if (movement.down){
          players[username].globalY += 10 * speedModifier;
          players[username].velocity.y = 10 * speedModifier;
        } else {
          players[username].velocity.y = 0 * speedModifier;
        }
        if(movement.atk){
          players[username].attacking = true;
        } else {
          players[username].attacking = false;
        }
        if(players[username].attacking){
          players[username].rotation += 4;
        } else {
          players[username].rotation += 2.6;
        }
        
        players[username].position.x += players[username].velocity.x;
        players[username].position.y += players[username].velocity.y;
        players[username].create();
        socket.emit('move', username, [players[username].position.x, players[username].globalX, players[username].offset],[players[username].position.y, players[username].globalY], players[username].rotation, players[username].attacking);
for(let i = 0; i<usernameList.length; i++){
          if(usernameList[i] != username){
        if (players[username].position.x != players[username].prevXRel||players[username].position.y != players[username].prevYRel){
                          if (players[usernameList[i]].position.x == players[usernameList[i]].prevXRel && players[usernameList[i]].position.y == players[usernameList[i]].prevYRel){
                            players[usernameList[i]].position.x -= players[username].velocity.x;
                            players[usernameList[i]].position.y -= players[username].velocity.y;
                          }

}
}
}
if (players[username].offset>40){
  document.getElementById('stamBadge').setAttribute("class", "badge bg-success");
} else if (players[username].offset>15){
  document.getElementById('stamBadge').setAttribute("class", "badge bg-warning");
} else if (players[username].offset>2){
  document.getElementById('stamBadge').setAttribute("class", "badge bg-danger");
} else {
  document.getElementById('stamBadge').setAttribute("class", "badge bg-dark");
}
        document.getElementById('stamBadge').innerHTML = players[username].offset*2;
        for(let i = 0; i<usernameList.length; i++){
          
          if (usernameList[i] == username){
            players[usernameList[i]].color = "blue";
          } else {
            players[usernameList[i]].color = "red";
          }
          
          if (players[usernameList[i]].prevX == players[usernameList[i]].globalX && players[usernameList[i]].prevY == players[usernameList[i]].globalY){
            players[usernameList[i]].disconnectTimer +=1;
          } else {
            players[usernameList[i]].disconnectTimer = 0;
            players[usernameList[i]].afkSymbol = "";
              players[usernameList[i]].afkColor = "black";
              
          }
          if(players[usernameList[i]].messageTimer >= 200){
            players[usernameList[i]].message = "";
            players[usernameList[i]].messageTimer = 0;
            socket.emit('update', usernameList[i], "msg<prog>msg</prog>msgpassword:password:msg")
          } else {
            players[usernameList[i]].messageTimer += 1;
          }
          
          if(players[usernameList[i]].attacking == true){
            if(players[usernameList[i]].offset> 0){
              players[usernameList[i]].offset -= .5;
            } 
            
          } else {
            if(players[usernameList[i]].offset<50){
              players[usernameList[i]].offset += .5;
            }
          }
          socket.emit('update', [usernameList[i], players[usernameList[i]].offset], "offsetUpdate");
          //2200 , 2700
          if (players[usernameList[i]].disconnectTimer == 2200){
              players[usernameList[i]].afkSymbol = "*";
              players[usernameList[i]].afkColor = "red";
              socket.emit('update', usernameList[i], "red<prog>red</prog>dcpassword:password:dc");
          } else if (players[usernameList[i]].disconnectTimer == 2700){
            var user = usernameList[i];
              usernameList.splice(usernameList.indexOf(usernameList[i]), 1);
              socket.emit('update', user, "dc<prog>dc</prog>dcpassword:password:dc");
              
          }
          if (players[usernameList[i]].rotation == players[usernameList[i]].prevR && usernameList[i] != username){
            if (players[usernameList[i]].attacking){
              players[usernameList[i]].rotation +=4;
              
            
            } else {
              players[usernameList[i]].rotation +=2.6;
              
            }
            
          
          }
          
          



          //END. PUT YOUR CODE ABOVE UNLESS IZZ TEST!
          if(usernameList[i] != username){
            // console.log(players[usernameList[i]].position.x == players[username].position.x + 100);
          // 
          var distX = players[username].globalX - players[usernameList[i]].globalX;
          var distY = players[username].globalY - players[usernameList[i]].globalY;
          var dist = Math.sqrt(distX*distX + distY*distY);
 console.log(dist);

            if(players[username].attacking==true && dist > players[username].offset+45 && dist < players[username].offset+105){
              
              socket.emit('update', usernameList[i], 'killed');
              players[usernameList[i]].killed = true;
              usernameList.splice(usernameList.indexOf(usernameList[i]), 1);
            } else {
              document.getElementById('canvas').setAttribute("style", "background-color:;");
            }


















            if(!players[usernameList[i]].killed){
              players[usernameList[i]].create();
            }
          
          }
           players[usernameList[i]].prevXRel = players[usernameList[i]].position.x;
          players[usernameList[i]].prevYRel = players[usernameList[i]].position.y;
          players[usernameList[i]].prevX = players[usernameList[i]].globalX;
          players[usernameList[i]].prevY = players[usernameList[i]].globalY;
          players[usernameList[i]].prevR = players[usernameList[i]].rotation;
          
          
          
        }
        }


        testDummy.position.x -= players[username].velocity.x;
        testDummy.position.y -= players[username].velocity.y;
        testDummy.create();
        
    }, 1000 / fps);
        
        
        }
      

    //ctx.translate(x+width.2, y+height/2);
    //ctx,rotate(degrees*Math.PI/180);
    
    



socket.on('move', function(user, valX, valY, valR,atk){


  
  var inGame = false;
  for(let i = 0; i<usernameList.length; i++){
   
    // console.log(usernameList[i]+":"+players[usernameList[i]].position.x);
    if (user == usernameList[i]) {
      inGame = true;
    }
  }
  if (players[user] == undefined){
    spawnPlayerManual(user);
    
  }
  if (!inGame){
    usernameList.push(user);
    
  }
  if(user != username){
    players[user].position.x = valX[0] - players[username].position.x;
    players[user].position.y = valY[0] - players[username].position.y;
    players[user].rotation = valR;
    players[user].attacking = atk;
    players[user].globalX = valX[1];
    players[user].globalY = valY[1];
    players[user].offset = valX[2];
  }
  usernameList = usernameList.filter(function(item, index, inputArray){
    return inputArray.indexOf(item) == index;
  });

   
        
        

});
socket.on('disconnect', function(){
  socket.emit('update', username);
  
});
socket.on('update', function(user, msg){
 if (msg == "dc<prog>dc</prog>dcpassword:password:dc"){
   usernameList.splice(usernameList.indexOf(user), 1);
   if(username == user){
     location.reload();
   }
    
   
 } else if(msg == "offsetUpdate"){
    players[user].offset = msg[1];
   }
    else if (msg == "msg<prog>msg</prog>msgpassword:password:msg") {
    players[user].message = "";
    players[user].messageTimer = 0;
  } else if (msg == "red<prog>red</prog>dcpassword:password:dc") {
    players[user].afkSymbol = "*";
    players[user].afkColor = "red";
  } else if(msg == "killed"){
  usernameList.splice(usernameList.indexOf(user), 1);
  if(username == user){
    usernameList = [""];
    players = [""];
    document.body.removeChild(document.getElementById('canvas'));
    var boxLarge = document.createElement("div");
    boxLarge.setAttribute("class", "d-flex position-fixed top-0 align-items-center bg-dark");
    boxLarge.setAttribute("style", "z-index:1000000; min-height:100vh;min-width:100vw;");
    var box = document.createElement("div");
    box.setAttribute("class", "container text-center");
    
    var button = document.createElement("button");
    button.setAttribute("class", "btn btn-info fs-2");
    button.innerHTML = "Play Again?";
    button.setAttribute("onclick", "location.reload()");
    box.appendChild(button);
    boxLarge.appendChild(box);
    document.body.appendChild(boxLarge);
   }
   } else {
   players[user].messageTimer= 0;
   players[user].message = msg;
 }
  
 


});
socket.on('spawn player', function(user) {
  console.log(spawned);
  if (!spawned && user != ""){
    players[user] = new Player({x:0, y:0, color:"blue", username:user});
    spawned = true;
  } else {
    players[user] = new Player({x:0, y:0, color:"red", username:user});
  }
  usernameList.push(user);


});
function spawnPlayerManual(user) {
  console.log("created");
  players[user] = new Player({x:0, y:0, color:"red", username:user});
  usernameList.push(user);
}
function checkOverflow(element) {
  var curOverflow = element.style.overflow;
  if(!curOverflow || curOverflow === "visible") {
    element.style.overflow = "hidden";
  }
  var isOverflowing = element.clientWidth < element.scrollHeight*1.9969;
  element.style.overflow = curOverflow;
  return isOverflowing;
}

  </script>
  
  
  

  </body>
</html>
